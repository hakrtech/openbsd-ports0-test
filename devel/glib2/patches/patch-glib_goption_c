$OpenBSD: patch-glib_goption_c,v 1.4 2012/07/08 18:03:39 ajacoutot Exp $

https://bugzilla.gnome.org/show_bug.cgi?id=679590

--- glib/goption.c.orig	Sun Jul  8 08:40:22 2012
+++ glib/goption.c	Sun Jul  8 08:40:24 2012
@@ -1680,6 +1680,9 @@ platform_get_argv0 (void)
 
   cmdline = (char **) realloc (cmdline, len);
 
+#ifndef nitems
+#define nitems(_a)      (sizeof((_a)) / sizeof((_a)[0]))
+#endif
   if (sysctl (mib, nitems (mib), cmdline, &len, NULL, 0) == -1)
     {
       g_free (cmdline);
