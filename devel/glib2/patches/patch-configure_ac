$OpenBSD: patch-configure_ac,v 1.5 2012/04/22 16:58:42 ajacoutot Exp $

From a147004b83ee48265e266e33da7656a3a09c7edb Mon Sep 17 00:00:00 2001
From: William Hua <william@attente.ca>
Date: Wed, 18 Apr 2012 03:49:47 +0000
Subject: Use Cocoa header for Cocoa test instead of Foundation.

From b3f814883f460ec9b309552a501652ecdecfb2dc Mon Sep 17 00:00:00 2001
From: Alexandre Rostovtsev <tetromino@gentoo.org>
Date: Mon, 16 Apr 2012 02:57:25 +0000
Subject: Do not detect GNUstep as Cocoa

--- configure.ac.orig	Fri Apr 13 15:39:41 2012
+++ configure.ac	Sun Apr 22 18:21:55 2012
@@ -178,7 +178,10 @@ AC_MSG_RESULT([$glib_have_carbon])
 glib_have_cocoa=no
 AC_MSG_CHECKING([for Mac OS X Cocoa support])
 AC_TRY_CPP([
-#include <Foundation/Foundation.h>
+#include <Cocoa/Cocoa.h>
+#ifdef GNUSTEP_BASE_VERSION
+#error "Detected GNUstep, not Cocoa"
+#endif
 ], glib_have_cocoa=yes)
 
 AC_MSG_RESULT([$glib_have_cocoa])
