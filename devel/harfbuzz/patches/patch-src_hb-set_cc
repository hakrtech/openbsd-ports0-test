$OpenBSD: patch-src_hb-set_cc,v 1.1 2017/10/23 15:04:35 ajacoutot Exp $

From 8b9d9b71b04c9d5698ec146658b31381060c700d Mon Sep 17 00:00:00 2001
From: Behdad Esfahbod <behdad@behdad.org>
Date: Sun, 22 Oct 2017 17:48:06 -0400
Subject: Fix set initialization issues

Index: src/hb-set.cc
--- src/hb-set.cc.orig
+++ src/hb-set.cc
@@ -45,7 +45,8 @@ hb_set_create (void)
   if (!(set = hb_object_create<hb_set_t> ()))
     return hb_set_get_empty ();
 
-  set->clear ();
+  set->page_map.init ();
+  set->pages.init ();
 
   return set;
 }
@@ -95,7 +96,8 @@ hb_set_destroy (hb_set_t *set)
 {
   if (!hb_object_destroy (set)) return;
 
-  set->fini ();
+  set->page_map.finish ();
+  set->pages.finish ();
 
   free (set);
 }
