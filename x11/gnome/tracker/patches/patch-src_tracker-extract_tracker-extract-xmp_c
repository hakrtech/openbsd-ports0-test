$OpenBSD: patch-src_tracker-extract_tracker-extract-xmp_c,v 1.4 2012/01/22 15:13:23 ajacoutot Exp $

https://bugzilla.gnome.org/show_bug.cgi?id=666654

--- src/tracker-extract/tracker-extract-xmp.c.orig	Fri Dec 16 16:24:23 2011
+++ src/tracker-extract/tracker-extract-xmp.c	Tue Jan 10 09:19:59 2012
@@ -154,10 +154,7 @@ tracker_extract_get_metadata (TrackerExtractInfo *info
 	preupdate = tracker_extract_info_get_preupdate_builder (info);
 	metadata = tracker_extract_info_get_metadata_builder (info);
 
-	fd = g_open (filename, O_RDONLY | O_NOATIME, 0);
-	if (fd == -1 && errno == EPERM) {
-		fd = g_open (filename, O_RDONLY, 0);
-	}
+	fd = tracker_file_open_fd (filename);
 
 	if (fd == -1) {
 		g_warning ("Could not open xmp file '%s': %s\n",
