$OpenBSD: patch-src_tracker-needle_tracker-utils_c,v 1.1 2013/04/10 14:13:53 ajacoutot Exp $

https://bugzilla.gnome.org/show_bug.cgi?id=697688

--- src/tracker-needle/tracker-utils.c.orig	Wed Apr 10 08:48:15 2013
+++ src/tracker-needle/tracker-utils.c	Wed Apr 10 08:51:42 2013
@@ -20,6 +20,8 @@
 /* 02110-1301, USA.*/
 /**/
 
+#define _XOPEN_SOURCE_EXTENDED 1	/* strptime is XPG4v2 */
+
 #include <glib.h>
 #include <glib-object.h>
 #include <gtk/gtk.h>
@@ -164,7 +166,7 @@ void uri_launch (const gchar* uri) {
 			GPid _tmp14_ = 0;
 			_tmp13_ = argv;
 			_tmp13__length1 = argv_length1;
-			g_spawn_async ("/usr/bin", _tmp13_, NULL, G_SPAWN_SEARCH_PATH, NULL, NULL, &_tmp14_, &_inner_error_);
+			g_spawn_async ("${LOCALBASE}/bin", _tmp13_, NULL, G_SPAWN_SEARCH_PATH, NULL, NULL, &_tmp14_, &_inner_error_);
 			child_pid = _tmp14_;
 			if (_inner_error_ != NULL) {
 				goto __catch22_g_error;
