$OpenBSD: patch-src_shell-js_c,v 1.1 2014/03/26 11:05:20 jasper Exp $

From b494c15e4bc58e83d3d5da07d61f4809d34e1c68 Mon Sep 17 00:00:00 2001
From: Jasper St. Pierre <jstpierre@mecheye.net>
Date: Sat, 22 Feb 2014 22:41:10 +0000
Subject: shell-js: Kill some compile warnings

From 225d31720f4bba7e31bbe91e6cacb1f89abbf4eb Mon Sep 17 00:00:00 2001
From: Tim Lunn <tim@feathertop.org>
Date: Sun, 6 Oct 2013 19:21:50 +1100
Subject: [PATCH] port shell-js to c++

--- src/shell-js.c.orig	Wed Feb 19 19:19:34 2014
+++ src/shell-js.c	Wed Mar 26 11:55:37 2014
@@ -4,7 +4,6 @@
 
 #include "shell-js.h"
 
-#include <jsapi.h>
 #include <gio/gio.h>
 #include <gjs/gjs.h>
 #include <gjs/gjs-module.h>
@@ -38,7 +37,7 @@ shell_js_add_extension_importer (const char  *target_o
    * we should only ever have one context, so this
    * should be alright. */
   contexts = gjs_context_get_all ();
-  context = gjs_context_get_native_context (contexts->data);
+  context = (JSContext*) gjs_context_get_native_context ((GjsContext*)contexts->data);
   g_list_free_full (contexts, g_object_unref);
 
   JS_BeginRequest (context);
