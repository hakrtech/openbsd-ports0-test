$OpenBSD: patch-src_client_c,v 1.1 2013/03/29 18:39:34 jasper Exp $
--- src/client.c.orig	Fri Mar 29 18:07:13 2013
+++ src/client.c	Fri Mar 29 18:07:20 2013
@@ -514,6 +514,7 @@ parse_arguments (int *argcp,
   g_option_context_free (context);
 
   if (data->working_directory == NULL) {
+#ifdef get_current_dir_name
     char *cwd;
 
     /* We use get_current_dir_name() here instead of getcwd / g_get_current_dir()
@@ -523,6 +524,9 @@ parse_arguments (int *argcp,
     cwd = get_current_dir_name ();
     data->working_directory = g_strdup (cwd);
     free (cwd);
+#else
+    data->working_directory = g_get_current_dir ();
+#endif
   }
 
   /* Do this here so that gdk_display is initialized */
