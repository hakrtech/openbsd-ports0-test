$OpenBSD: patch-plugins_grilo_rb-grilo-plugin_c,v 1.1 2012/09/29 12:20:14 ajacoutot Exp $

From 86eb47f705b2f0e6e8ba8d90073c961d47dbfb95 Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@humppa.nl>
Date: Fri, 17 Aug 2012 13:28:05 +0000
Subject: grilo: Port to the grilo 0.2 API

--- plugins/grilo/rb-grilo-plugin.c.orig	Thu May 31 00:51:09 2012
+++ plugins/grilo/rb-grilo-plugin.c	Sat Sep 29 14:05:14 2012
@@ -65,7 +65,7 @@ typedef struct
 {
 	PeasExtensionBase parent;
 
-	GrlPluginRegistry *registry;
+	GrlRegistry *registry;
 	GHashTable *sources;
 	RBShellPlayer *shell_player;
 	gulong emit_cover_art_id;
@@ -93,7 +93,7 @@ rb_grilo_plugin_init (RBGriloPlugin *plugin)
 static void
 rb_grilo_plugin_source_deleted (RBGriloSource *source, RBGriloPlugin *plugin)
 {
-	GrlMediaSource *media_source;
+	GrlSource *media_source;
 
 	g_object_get (source, "media-source", &media_source, NULL);
 	g_hash_table_remove (plugin->sources, media_source);
@@ -101,7 +101,7 @@ rb_grilo_plugin_source_deleted (RBGriloSource *source,
 }
 
 static void
-grilo_source_added_cb (GrlPluginRegistry *registry, GrlMediaPlugin *grilo_plugin, RBGriloPlugin *plugin)
+grilo_source_added_cb (GrlRegistry *registry, GrlPlugin *grilo_plugin, RBGriloPlugin *plugin)
 {
 	RBSource *grilo_source;
 	RBShell *shell;
