$OpenBSD: patch-src_Makefile,v 1.1.1.1 2014/06/03 14:27:54 sthen Exp $
--- src/Makefile.orig	Thu Sep 20 15:33:48 2012
+++ src/Makefile	Mon Jun  2 18:18:18 2014
@@ -717,7 +717,7 @@ freebsd-x86-any-a.out:
 	@echo "#define JOHN_BLD" '"'$@'"' > john_build_rule.h
 	$(MAKE) $(PROJ) \
 		JOHN_OBJS="$(JOHN_OBJS) x86.o" \
-		ASFLAGS="$(ASFLAGS) -DUNDERSCORES -DALIGN_LOG -DBSD"
+		ASFLAGS="$(ASFLAGS) -DBSD"
 
 freebsd-alpha:
 	$(LN) alpha.h arch.h
@@ -772,7 +772,7 @@ openbsd-x86-any-a.out:
 	@echo "#define JOHN_BLD" '"'$@'"' > john_build_rule.h
 	$(MAKE) $(PROJ) \
 		JOHN_OBJS="$(JOHN_OBJS) x86.o" \
-		ASFLAGS="$(ASFLAGS) -DUNDERSCORES -DALIGN_LOG -DBSD"
+		ASFLAGS="$(ASFLAGS) -DALIGN_LOG -DBSD"
 
 openbsd-alpha:
 	$(LN) alpha.h arch.h
@@ -1738,7 +1738,7 @@ SIPdump: SIPdump.o
 	$(LD) SIPdump.o $(LDFLAGS) -lpcap -o ../run/SIPdump
 
 vncpcap2john:
-	g++ vncpcap2john.cpp -lpcap -o ../run/vncpcap2john
+	$(CXX) vncpcap2john.cpp -lpcap -o ../run/vncpcap2john
 
 office2john:
 	$(CC) `xml2-config --cflags` `pkg-config --cflags libgsf-1` office2john.c common.o base64.o `pkg-config --libs libgsf-1` `xml2-config --libs` -o ../run/office2john
