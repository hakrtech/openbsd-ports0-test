$OpenBSD: patch-wpa_supplicant_Makefile,v 1.4 2014/10/11 17:55:50 dcoppa Exp $
--- wpa_supplicant/Makefile.orig	Thu Oct  9 16:41:31 2014
+++ wpa_supplicant/Makefile	Fri Oct 10 11:02:04 2014
@@ -56,7 +56,7 @@ mkconfig:
 	echo CONFIG_DRIVER_WEXT=y >> .config
 
 $(DESTDIR)$(BINDIR)/%: %
-	install -D $(<) $(@)
+	install $(<) $(@)
 
 install: $(addprefix $(DESTDIR)$(BINDIR)/,$(BINALL))
 	$(MAKE) -C ../src install
@@ -119,13 +119,6 @@ endif
 OBJS += ../src/utils/$(CONFIG_ELOOP).o
 OBJS_c += ../src/utils/$(CONFIG_ELOOP).o
 
-ifeq ($(CONFIG_ELOOP), eloop)
-# Using glibc < 2.17 requires -lrt for clock_gettime()
-LIBS += -lrt
-LIBS_c += -lrt
-LIBS_p += -lrt
-endif
-
 ifdef CONFIG_ELOOP_POLL
 CFLAGS += -DCONFIG_ELOOP_POLL
 endif
@@ -1391,9 +1384,7 @@ OBJS += sme.o
 CFLAGS += -DCONFIG_SME
 endif
 
-ifdef NEED_80211_COMMON
 OBJS += ../src/common/ieee802_11_common.o
-endif
 
 ifdef NEED_EAP_COMMON
 OBJS += ../src/eap_common/eap_common.o
