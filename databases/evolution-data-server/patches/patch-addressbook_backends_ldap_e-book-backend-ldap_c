$OpenBSD: patch-addressbook_backends_ldap_e-book-backend-ldap_c,v 1.22 2013/09/11 14:02:53 ajacoutot Exp $

From fa37efaf26d366a3d0d5256283455a28025ddbde Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <antoine@mtier.org>
Date: Wed, 11 Sep 2013 13:57:57 +0000
Subject: do not assume time_t is long

--- addressbook/backends/ldap/e-book-backend-ldap.c.orig	Sun Aug 11 00:00:52 2013
+++ addressbook/backends/ldap/e-book-backend-ldap.c	Sun Aug 11 14:57:25 2013
@@ -1283,11 +1283,11 @@ create_dn_from_contact (EContact *contact,
 	}
 
 	dn = g_strdup_printf (
-		"%s=%s%s%lu",
+		"%s=%s%s%" G_GINT64_FORMAT,
 		get_dn_attribute_name (rootdn, contact),
 		(cn_part && *cn_part) ? cn_part : "",
 		(cn_part && *cn_part) ? "." : "",
-		time (NULL));
+		(gint64) time (NULL));
 
 	g_free (cn_part);
 	g_free (cn);
