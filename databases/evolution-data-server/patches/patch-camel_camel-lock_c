$OpenBSD: patch-camel_camel-lock_c,v 1.11 2013/09/11 14:02:54 ajacoutot Exp $

From fa37efaf26d366a3d0d5256283455a28025ddbde Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <antoine@mtier.org>
Date: Wed, 11 Sep 2013 13:57:57 +0000
Subject: do not assume time_t is long

--- camel/camel-lock.c.orig	Tue Jul 23 13:57:54 2013
+++ camel/camel-lock.c	Wed Sep 11 10:14:21 2013
@@ -128,7 +128,7 @@ camel_lock_dot (const gchar *path,
 		/* check for stale lock, kill it */
 		if (g_stat (lock, &st) == 0) {
 			time_t now = time (NULL);
-			(printf ("There is an existing lock %ld seconds old\n", now - st.st_ctime));
+			printf ("There is an existing lock %" G_GINT64_FORMAT "seconds old\n", (gint64) now - (gint64) st.st_ctime);
 			if (st.st_ctime < now - CAMEL_LOCK_DOT_STALE) {
 				d (printf ("Removing it now\n"));
 				unlink (lock);
