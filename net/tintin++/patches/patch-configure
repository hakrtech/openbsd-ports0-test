$OpenBSD: patch-configure,v 1.2 2013/12/07 22:37:14 jca Exp $
--- configure.orig	Sun Aug 28 12:06:38 1994
+++ configure	Fri Dec  6 15:14:46 2013
@@ -474,17 +474,20 @@ fi
 OLD_CFLAGS="$CFLAGS"
 CFLAGS="$CFLAGS -pipe"
 
-echo "Do you want the helpfile to be compressed (yes/no)? "
-read YESNO
-if test $YESNO; then
-  if echo "$YESNO"|grep -i "no" >/dev/null; then
-    DEFS="$DEFS -DCOMPRESSED_HELP=0"
-  else
-    DEFS="$DEFS -DCOMPRESSED_HELP=1"
-    COMPRESSED_HELP="Ok"
-  fi
-fi
+DEFS="$DEFS -DCOMPRESSED_HELP=1"
+COMPRESSED_HELP="Ok"
 
+#echo "Do you want the helpfile to be compressed (yes/no)? "
+#read YESNO
+#if test $YESNO; then
+#  if echo "$YESNO"|grep -i "no" >/dev/null; then
+#    DEFS="$DEFS -DCOMPRESSED_HELP=0"
+#  else
+#    DEFS="$DEFS -DCOMPRESSED_HELP=1"
+#    COMPRESSED_HELP="Ok"
+#  fi
+#fi
+
 test -n "$silent" || echo "checking for -pipe"
 cat > conftest.${ac_ext} <<EOF
 #include "confdefs.h"
@@ -754,7 +757,7 @@ else
 fi
 
 
-for ac_hdr in strings.h string.h stdlib.h time.h sys/termio.h
+for ac_hdr in strings.h string.h stdlib.h time.h sys/termio.h termios.h
 do
 ac_tr_hdr=HAVE_`echo $ac_hdr | tr '[a-z]./' '[A-Z]__'`
 test -n "$silent" || echo "checking for ${ac_hdr}"
@@ -790,6 +793,16 @@ if egrep "tcflag_t" conftest.out >/dev/null 2>&1; then
 fi
 rm -f conftest*
 
+echo '#include "confdefs.h"
+#include <termios.h>' > conftest.${ac_ext}
+eval "$ac_cpp conftest.${ac_ext} > conftest.out 2>&1"
+if egrep "tcflag_t" conftest.out >/dev/null 2>&1; then
+  rm -rf conftest*
+  DEFS="$DEFS -DHAVE_TCFLAG_T=1"
+
+fi
+rm -f conftest*
+
 test -n "$silent" || echo "checking for which method to use to turn keyboard echo on/off"
 cat > conftest.${ac_ext} <<EOF
 #include "confdefs.h"
@@ -854,7 +867,7 @@ else
    :; 
 fi
 
-for ac_func in bcopy
+for ac_func in
 do
 ac_tr_func=HAVE_`echo $ac_func | tr '[a-z]' '[A-Z]'`
 test -n "$silent" || echo "checking for ${ac_func}"
