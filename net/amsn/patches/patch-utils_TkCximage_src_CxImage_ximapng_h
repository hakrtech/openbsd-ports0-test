$OpenBSD: patch-utils_TkCximage_src_CxImage_ximapng_h,v 1.2 2012/08/12 17:33:04 jasper Exp $
--- utils/TkCximage/src/CxImage/ximapng.h.orig	Sat Jul 14 14:28:41 2012
+++ utils/TkCximage/src/CxImage/ximapng.h	Sat Jul 14 14:29:46 2012
@@ -23,6 +23,8 @@
 
 extern "C" {
 #include <png.h>
+#include <pngstruct.h>
+#include <pnginfo.h>
 }
 
 class CxImagePNG: public CxImage
@@ -65,7 +67,7 @@ class CxImagePNG: public CxImage (protected)
     static void PNGAPI user_error_fn(png_structp png_ptr,png_const_charp error_msg)
 	{
 		strncpy((char*)png_get_error_ptr(png_ptr),error_msg,255);
-		longjmp(png_jmpbuf(png_ptr), 1);
+		png_longjmp(png_ptr, 1);
 	}
 };
 
