$OpenBSD: patch-genconfig_sh,v 1.1.1.1 2012/01/13 09:22:50 ajacoutot Exp $
--- genconfig.sh.orig	Sun Jan  8 10:15:53 2012
+++ genconfig.sh	Sun Jan  8 10:16:50 2012
@@ -67,6 +67,10 @@ case $OS_NAME in
 		if [ \( $MAJORVER -ge 5 \) -o \( $MAJORVER -eq 4 -a $MINORVER -ge 7 \) ]; then
 			echo "#define PF_NEWSTYLE" >> ${CONFIGFILE}
 		fi
+		# onrdomain was introduced in OpenBSD 5.0
+		if [ $MAJORVER -ge 4 ]; then
+			echo "#define PFRULE_HAS_ONRDOMAIN" >> ${CONFIGFILE}
+		fi
 		echo "#define USE_PF 1" >> ${CONFIGFILE}
 		FW=pf
 		echo "#define USE_IFACEWATCHER 1" >> ${CONFIGFILE}
